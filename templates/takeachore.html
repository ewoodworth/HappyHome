{% extends 'base.html' %}
{% block head %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
{% endblock %}
{% block body %}
<div>
  <select id="initial-pulldown" name="freq">
    <option></option>
    {% for chore in chores %}
    <option value='{{ chore.chore_id }}'>{{ chore.name }}</option>
    {% endfor%}
  </select>
</div>
<div id='secondary-form-group'>

</div>
<button>I'M A BUTTON</button>
    {% for chore in chores %}
    <br>{{ chore.name }} {{ chore.frequency[1] }}
    {% endfor %}


<script>
"use strict";
  $(document).ready(function(){
    console.log("HI!!!");
    // $('[data-toggle="popover"]').popover(); 

    $("button").click( function() { console.log('WELL THE BUTTON WORKS')})

    // event handler for change to the main pulldown
    var mainPull = $("#initial-pulldown"); 
    mainPull.change(function() {
      console.log("I'm awake!");
      sendFormIn();
      // update the secondary menu if there's a value
      if (mainPull.val() !== "") {
        console.log('It Started!');
        // addsecondElementOptions(mainPull.val());
      // otherwise, hide it
      } else {
        $('#secondary-form-group').hide();
      }
    });

    function successFunction(ints){
      console.log(ints);
    }

    function sendFormIn() {
        // evt.preventDefault();

        var formInputs = {
          "numfromform": $("#initial-pulldown").val()
        }

        $.post("/takechoreform", 
            formInputs,
            successFunction
            );
    }
  });
// THIS IS FROM THE DOCUMT READY TAG AT THE TOP
</script>
{% endblock %}